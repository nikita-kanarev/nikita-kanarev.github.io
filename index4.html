<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Демонстрация шрифтов</title>
    <link rel="stylesheet" href="https://underscoretype.github.io/fontsampler-js/dist/fontsampler-skin.css">
    <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
        }
        .fontsampler-container {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #ccc;
        }
    </style>
</head>
<body>

    <h1>Демонстрация шрифтов</h1>

    <div class="fontsampler-container"
         data-fontsampler
         data-font-url="https://nikita-kanarev.github.io/InterVariable.woff2"
         data-variable-axes="wght:100:900:1:Weight">
    </div>

    <div class="fontsampler-container"
         data-fontsampler
         data-font-url="https://nikita-kanarev.github.io/Oswald.ttf">
    </div>

    <div class="fontsampler-container"
         data-fontsampler
         data-font-url="https://nikita-kanarev.github.io/BitcountPropSingle.ttf"
         data-variable-axes="wght:100:900:1:Weight"
         data-opentype-features="kern:Kerning:true,liga:Ligatures:true">
    </div>

    <script src="https://underscoretype.github.io/fontsampler-js/dist/fontsampler.js"></script>
    <script src="https://underscoretype.github.io/fontsampler-js/dist/fontsampler-skin.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fontsamplerDemos = document.querySelectorAll('[data-fontsampler]');
            fontsamplerDemos.forEach(element => {
                const url = element.dataset.fontUrl;
                const axes = element.dataset.variableAxes;
                const features = element.dataset.opentypeFeatures;

                const fonts = [{
                    name: url.split('/').pop().split('.')[0],
                    files: [url]
                }];

                const options = {
                    order: [
                        ['tester'],
                        ['fontsize', 'lineheight', 'letterspacing'],
                        ...(axes ? [axes.split(':')[0]] : []),
                        ...(features ? ['opentype'] : []),
                        ['alignment', 'direction']
                    ],
                    initialText: 'The quick brown fox jumps over the lazy dog',
                };
                
                if (axes) {
                    const [axisTag, min, max, step, name] = axes.split(':');
                    options.axes = {};
                    options.axes[axisTag] = { min: min, max: max, step: step, name: name };
                }

                if (features) {
                    options.opentypeFeatures = features.split(',').map(f => {
                        const [tag, name, enabled] = f.split(':');
                        return { tag, name, enabled: enabled === 'true' };
                    });
                }

                const fontsampler = new Fontsampler(element, fonts, options);
                FontsamplerSkin(fontsampler);
                fontsampler.init();
            });
        });
    </script>

</body>
</html>